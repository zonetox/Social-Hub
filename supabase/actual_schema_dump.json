{
    "tables": [
        {
            "table_name": "analytics"
        },
        {
            "table_name": "bank_transfer_info"
        },
        {
            "table_name": "card_credits"
        },
        {
            "table_name": "card_sends"
        },
        {
            "table_name": "contact_categories"
        },
        {
            "table_name": "contacts"
        },
        {
            "table_name": "follows"
        },
        {
            "table_name": "payment_transactions"
        },
        {
            "table_name": "profile_categories"
        },
        {
            "table_name": "profiles"
        },
        {
            "table_name": "search_history"
        },
        {
            "table_name": "social_accounts"
        },
        {
            "table_name": "subscription_plans"
        },
        {
            "table_name": "user_subscriptions"
        },
        {
            "table_name": "users"
        }
    ],
    "columns": [
        {
            "table_name": "analytics",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "analytics",
            "column_name": "profile_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "analytics",
            "column_name": "event_type",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "analytics",
            "column_name": "social_account_id",
            "data_type": "uuid",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "analytics",
            "column_name": "metadata",
            "data_type": "jsonb",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "analytics",
            "column_name": "ip_address",
            "data_type": "inet",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "analytics",
            "column_name": "user_agent",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "analytics",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "bank_name",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "account_number",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "account_holder",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "swift_code",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "branch",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "is_active",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "true"
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "country",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": "'VN'::text"
        },
        {
            "table_name": "bank_transfer_info",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "card_credits",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "card_credits",
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "card_credits",
            "column_name": "amount",
            "data_type": "integer",
            "is_nullable": "NO",
            "column_default": "0"
        },
        {
            "table_name": "card_credits",
            "column_name": "purchased_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "card_credits",
            "column_name": "expires_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "card_credits",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "card_sends",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "card_sends",
            "column_name": "sender_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "card_sends",
            "column_name": "receiver_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "card_sends",
            "column_name": "profile_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "card_sends",
            "column_name": "viewed",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "false"
        },
        {
            "table_name": "card_sends",
            "column_name": "viewed_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "card_sends",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "contact_categories",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "contact_categories",
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "contact_categories",
            "column_name": "name",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "contact_categories",
            "column_name": "color",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": "'#6366f1'::text"
        },
        {
            "table_name": "contact_categories",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "contacts",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "contacts",
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "contacts",
            "column_name": "contact_profile_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "contacts",
            "column_name": "notes",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "contacts",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "contacts",
            "column_name": "category_id",
            "data_type": "uuid",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "follows",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "follows",
            "column_name": "follower_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "follows",
            "column_name": "following_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "follows",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "payment_transactions",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "payment_transactions",
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "type",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "amount_usd",
            "data_type": "numeric",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "amount_vnd",
            "data_type": "numeric",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "currency",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "payment_method",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "payment_provider",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "status",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "provider_transaction_id",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "proof_image_url",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "notes",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "metadata",
            "data_type": "jsonb",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "payment_transactions",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "payment_transactions",
            "column_name": "updated_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "profile_categories",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "gen_random_uuid()"
        },
        {
            "table_name": "profile_categories",
            "column_name": "name",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "profile_categories",
            "column_name": "slug",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "profile_categories",
            "column_name": "icon",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "profile_categories",
            "column_name": "display_order",
            "data_type": "integer",
            "is_nullable": "YES",
            "column_default": "0"
        },
        {
            "table_name": "profile_categories",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "profiles",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "profiles",
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "display_name",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "slug",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "cover_image_url",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "website",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "location",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "tags",
            "data_type": "ARRAY",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "is_public",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "true"
        },
        {
            "table_name": "profiles",
            "column_name": "view_count",
            "data_type": "integer",
            "is_nullable": "YES",
            "column_default": "0"
        },
        {
            "table_name": "profiles",
            "column_name": "follower_count",
            "data_type": "integer",
            "is_nullable": "YES",
            "column_default": "0"
        },
        {
            "table_name": "profiles",
            "column_name": "following_count",
            "data_type": "integer",
            "is_nullable": "YES",
            "column_default": "0"
        },
        {
            "table_name": "profiles",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "profiles",
            "column_name": "updated_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "profiles",
            "column_name": "theme_config",
            "data_type": "jsonb",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "profiles",
            "column_name": "category_id",
            "data_type": "uuid",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "search_history",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "search_history",
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "search_history",
            "column_name": "query",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "search_history",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "social_accounts",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "social_accounts",
            "column_name": "profile_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "social_accounts",
            "column_name": "platform",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "social_accounts",
            "column_name": "platform_username",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "social_accounts",
            "column_name": "platform_url",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "social_accounts",
            "column_name": "display_order",
            "data_type": "integer",
            "is_nullable": "YES",
            "column_default": "0"
        },
        {
            "table_name": "social_accounts",
            "column_name": "is_visible",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "true"
        },
        {
            "table_name": "social_accounts",
            "column_name": "click_count",
            "data_type": "integer",
            "is_nullable": "YES",
            "column_default": "0"
        },
        {
            "table_name": "social_accounts",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "social_accounts",
            "column_name": "updated_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "subscription_plans",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "subscription_plans",
            "column_name": "name",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "subscription_plans",
            "column_name": "price_usd",
            "data_type": "numeric",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "subscription_plans",
            "column_name": "price_vnd",
            "data_type": "numeric",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "subscription_plans",
            "column_name": "duration_days",
            "data_type": "integer",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "subscription_plans",
            "column_name": "features",
            "data_type": "jsonb",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "subscription_plans",
            "column_name": "is_active",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "true"
        },
        {
            "table_name": "subscription_plans",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": "uuid_generate_v4()"
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "plan_id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "status",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "starts_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "expires_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "auto_renew",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "false"
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "payment_method",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "updated_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "users",
            "column_name": "id",
            "data_type": "uuid",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "users",
            "column_name": "email",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "users",
            "column_name": "username",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "users",
            "column_name": "full_name",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": null
        },
        {
            "table_name": "users",
            "column_name": "avatar_url",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "users",
            "column_name": "bio",
            "data_type": "text",
            "is_nullable": "YES",
            "column_default": null
        },
        {
            "table_name": "users",
            "column_name": "role",
            "data_type": "text",
            "is_nullable": "NO",
            "column_default": "'user'::text"
        },
        {
            "table_name": "users",
            "column_name": "is_verified",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "false"
        },
        {
            "table_name": "users",
            "column_name": "is_active",
            "data_type": "boolean",
            "is_nullable": "YES",
            "column_default": "true"
        },
        {
            "table_name": "users",
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        },
        {
            "table_name": "users",
            "column_name": "updated_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES",
            "column_default": "now()"
        }
    ],
    "foreign_keys": [
        {
            "table_name": "profiles",
            "column_name": "user_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "social_accounts",
            "column_name": "profile_id",
            "foreign_table": "profiles",
            "foreign_column": "id"
        },
        {
            "table_name": "follows",
            "column_name": "follower_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "follows",
            "column_name": "following_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "analytics",
            "column_name": "profile_id",
            "foreign_table": "profiles",
            "foreign_column": "id"
        },
        {
            "table_name": "analytics",
            "column_name": "social_account_id",
            "foreign_table": "social_accounts",
            "foreign_column": "id"
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "user_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "user_subscriptions",
            "column_name": "plan_id",
            "foreign_table": "subscription_plans",
            "foreign_column": "id"
        },
        {
            "table_name": "card_credits",
            "column_name": "user_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "card_sends",
            "column_name": "sender_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "card_sends",
            "column_name": "receiver_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "card_sends",
            "column_name": "profile_id",
            "foreign_table": "profiles",
            "foreign_column": "id"
        },
        {
            "table_name": "payment_transactions",
            "column_name": "user_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "contacts",
            "column_name": "user_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "contacts",
            "column_name": "contact_profile_id",
            "foreign_table": "profiles",
            "foreign_column": "id"
        },
        {
            "table_name": "contact_categories",
            "column_name": "user_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "contacts",
            "column_name": "category_id",
            "foreign_table": "contact_categories",
            "foreign_column": "id"
        },
        {
            "table_name": "search_history",
            "column_name": "user_id",
            "foreign_table": "users",
            "foreign_column": "id"
        },
        {
            "table_name": "profiles",
            "column_name": "category_id",
            "foreign_table": "profile_categories",
            "foreign_column": "id"
        }
    ],
    "policies": [
        {
            "schemaname": "public",
            "tablename": "social_accounts",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "follows",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "analytics",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "subscription_plans",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "bank_transfer_info",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "user_subscriptions",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "card_credits",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "card_sends",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "payment_transactions",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "contact_categories",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "users",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "contacts",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "search_history",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "profile_categories",
            "rowsecurity": true
        },
        {
            "schemaname": "public",
            "tablename": "profiles",
            "rowsecurity": true
        }
    ],
    "rls_policies_details": [
        {
            "schemaname": "public",
            "tablename": "analytics",
            "policyname": "Optimized analytics view policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "((profile_id IN ( SELECT profiles.id\\n   FROM profiles\\n  WHERE (profiles.user_id = ( SELECT auth.uid() AS uid)))) OR (EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text)))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "analytics",
            "policyname": "Restricted analytics insertion",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "(EXISTS ( SELECT 1\\n   FROM profiles\\n  WHERE ((profiles.id = analytics.profile_id) AND (profiles.is_public = true))))"
        },
        {
            "schemaname": "public",
            "tablename": "bank_transfer_info",
            "policyname": "Optimized bank info view policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "true",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "bank_transfer_info",
            "policyname": "Optimized bank info manage policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "(EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text))))"
        },
        {
            "schemaname": "public",
            "tablename": "bank_transfer_info",
            "policyname": "Optimized bank info delete policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "DELETE",
            "qual": "(EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "bank_transfer_info",
            "policyname": "Optimized bank info update policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "(EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "card_credits",
            "policyname": "Users can view own credits",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "(( SELECT auth.uid() AS uid) = user_id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "card_sends",
            "policyname": "Users can view sent/received cards",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "((( SELECT auth.uid() AS uid) = sender_id) OR (( SELECT auth.uid() AS uid) = receiver_id))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "contact_categories",
            "policyname": "Users can manage their own categories",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "ALL",
            "qual": "(( SELECT auth.uid() AS uid) = user_id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "contacts",
            "policyname": "Users can manage their own contacts",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "ALL",
            "qual": "(( SELECT auth.uid() AS uid) = user_id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "follows",
            "policyname": "Users can follow others",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "(follower_id = ( SELECT auth.uid() AS uid))"
        },
        {
            "schemaname": "public",
            "tablename": "follows",
            "policyname": "Users can unfollow",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "DELETE",
            "qual": "(follower_id = ( SELECT auth.uid() AS uid))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "follows",
            "policyname": "Follows are viewable by everyone",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "true",
            "with_check": null
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Users can upload own avatar",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "((bucket_id = 'avatars'::text) AND ((( SELECT auth.uid() AS uid))::text = (storage.foldername(name))[1]))"
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Avatar images are publicly accessible",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "(bucket_id = 'avatars'::text)",
            "with_check": null
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Admins can manage all payment proofs",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "ALL",
            "qual": "((bucket_id = 'payment-proofs'::text) AND is_admin())",
            "with_check": null
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Users can view own payment proofs",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "((bucket_id = 'payment-proofs'::text) AND (((auth.uid())::text = (storage.foldername(name))[1]) OR is_admin()))",
            "with_check": null
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Users can update own cover",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "((bucket_id = 'covers'::text) AND ((( SELECT auth.uid() AS uid))::text = (storage.foldername(name))[1]))",
            "with_check": null
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Users can upload own cover",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "((bucket_id = 'covers'::text) AND ((( SELECT auth.uid() AS uid))::text = (storage.foldername(name))[1]))"
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Cover images are publicly accessible",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "(bucket_id = 'covers'::text)",
            "with_check": null
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Users can update own avatar",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "((bucket_id = 'avatars'::text) AND ((( SELECT auth.uid() AS uid))::text = (storage.foldername(name))[1]))",
            "with_check": null
        },
        {
            "schemaname": "storage",
            "tablename": "objects",
            "policyname": "Users can upload own payment proofs",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "((bucket_id = 'payment-proofs'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))"
        },
        {
            "schemaname": "public",
            "tablename": "payment_transactions",
            "policyname": "Users can view own transactions",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "(( SELECT auth.uid() AS uid) = user_id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "profile_categories",
            "policyname": "Public categories are viewable by everyone",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "true",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "profiles",
            "policyname": "Users can update own profile",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "(auth.uid() = user_id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "profiles",
            "policyname": "Optimized profiles view policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "((is_public = true) OR (user_id = ( SELECT auth.uid() AS uid)) OR (EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text)))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "profiles",
            "policyname": "Profiles view policy v2",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "((is_public = true) OR (user_id = ( SELECT auth.uid() AS uid)))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "profiles",
            "policyname": "Optimized profiles update policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "(user_id = ( SELECT auth.uid() AS uid))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "profiles",
            "policyname": "Optimized profiles insert policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "(user_id = ( SELECT auth.uid() AS uid))"
        },
        {
            "schemaname": "public",
            "tablename": "profiles",
            "policyname": "Public profiles are viewable by everyone",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "true",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "search_history",
            "policyname": "Users can manage their own search history",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "ALL",
            "qual": "(( SELECT auth.uid() AS uid) = user_id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "social_accounts",
            "policyname": "Optimized social accounts view policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "((EXISTS ( SELECT 1\\n   FROM profiles\\n  WHERE ((profiles.id = social_accounts.profile_id) AND ((profiles.is_public = true) OR (profiles.user_id = ( SELECT auth.uid() AS uid)))))) OR (EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text)))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "social_accounts",
            "policyname": "Optimized social accounts delete policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "DELETE",
            "qual": "(EXISTS ( SELECT 1\\n   FROM profiles\\n  WHERE ((profiles.id = social_accounts.profile_id) AND (profiles.user_id = ( SELECT auth.uid() AS uid)))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "social_accounts",
            "policyname": "Optimized social accounts insert policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "(EXISTS ( SELECT 1\\n   FROM profiles\\n  WHERE ((profiles.id = social_accounts.profile_id) AND (profiles.user_id = ( SELECT auth.uid() AS uid)))))"
        },
        {
            "schemaname": "public",
            "tablename": "social_accounts",
            "policyname": "Optimized social accounts update policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "(EXISTS ( SELECT 1\\n   FROM profiles\\n  WHERE ((profiles.id = social_accounts.profile_id) AND (profiles.user_id = ( SELECT auth.uid() AS uid)))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "subscription_plans",
            "policyname": "Optimized subscription plans delete policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "DELETE",
            "qual": "(EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "subscription_plans",
            "policyname": "Optimized subscription plans view policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "true",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "subscription_plans",
            "policyname": "Optimized subscription plans insert policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "INSERT",
            "qual": null,
            "with_check": "(EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text))))"
        },
        {
            "schemaname": "public",
            "tablename": "subscription_plans",
            "policyname": "Optimized subscription plans update policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "(EXISTS ( SELECT 1\\n   FROM users\\n  WHERE ((users.id = ( SELECT auth.uid() AS uid)) AND (users.role = 'admin'::text))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "user_subscriptions",
            "policyname": "Users can view own subscriptions",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "(( SELECT auth.uid() AS uid) = user_id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "users",
            "policyname": "Users can update own record",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "(auth.uid() = id)",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "users",
            "policyname": "Public users are viewable by everyone",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "true",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "users",
            "policyname": "Users update policy v2",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "UPDATE",
            "qual": "(id = ( SELECT auth.uid() AS uid))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "users",
            "policyname": "Optimized users admin manage policy",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "DELETE",
            "qual": "(EXISTS ( SELECT 1\\n   FROM users users_1\\n  WHERE ((users_1.id = ( SELECT auth.uid() AS uid)) AND (users_1.role = 'admin'::text))))",
            "with_check": null
        },
        {
            "schemaname": "public",
            "tablename": "users",
            "policyname": "Users view policy v2",
            "permissive": "PERMISSIVE",
            "roles": "{public}",
            "cmd": "SELECT",
            "qual": "((is_active = true) OR (id = ( SELECT auth.uid() AS uid)))",
            "with_check": null
        }
    ]
}